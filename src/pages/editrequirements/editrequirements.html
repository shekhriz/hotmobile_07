<!--
  Generated template for the EditrequirementsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--
  Generated template for the AddUserPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <main-header></main-header>
    <div class="addBtn">
      <button ion-button class="btn1" outline (click)="goBack()">
        <ion-icon name="undo"></ion-icon>
      </button>
      <h1>Edit Requirement</h1>
    </div>
  </ion-header>
  <ion-content>
    <ion-card>
      <ion-card-content style=" padding: 6px 0px;">
        <ion-list>
          <ion-card-header class="headerClass">Requirement Details</ion-card-header>
          <ion-item class="_row">
            <ion-label class="labelBorder" floating>Select Client<span class="astric">*</span>
            </ion-label>
            <ion-select class="fieldBorder" [(ngModel)]="clientdata.clientName" (ionChange)="onSelectChange($event)">
              <ion-option value="">Select</ion-option>
              <ion-option value="{{name}}" *ngFor="let name of client">{{name}}</ion-option>
            </ion-select>
          </ion-item>
          <!-- <ion-item class="_row" *ngFor="let contact of contactdetails">   
                   <ion-label  (click)="openClientModal(contact)"> 
                      <ion-icon name="md-create" ></ion-icon>  &nbsp;&nbsp;&nbsp;&nbsp; 
                    {{contact.contactFullName}}
                  </ion-label> 
                  <ion-checkbox  ></ion-checkbox>    
                </ion-item>  -->
          <ion-grid *ngFor="let contact of contactdetails,let i=index">
            <ion-row>
              <ion-col *ngIf="i<1">
                <ion-label><b>Contact Person<span class="astric">*</span></b>
                </ion-label>
                <button ion-button color="dark" (click)="addClientModal(contact)">Add new</button>
              </ion-col>
            </ion-row>
            <ion-row style="font-size: 12px;">
              <ion-checkbox style="margin-left: 10px;margin-top: 5px"></ion-checkbox>
              <ion-col (click)="openClientModal(contact)">
                <ion-icon name="md-create"></ion-icon>
              </ion-col>
              <ion-col style="margin-right: 60px;">{{contact.contactFullName}}</ion-col>
              <ion-col>
                <button *ngIf="contact.sendUserEmail == false" ion-button full color='dark' style=" height: 32px;
                        width: 90px;margin-top: -3px;" (click)="activateData()">Activate</button>
              </ion-col>
            </ion-row>
          </ion-grid>
          <ion-item class="_row">
            <ion-label class="labelBorder" floating>Priority<span class="astric">*</span> :</ion-label>
            <ion-select class="fieldBorder" [(ngModel)]="priority">
              <ion-option value="">Select</ion-option>
              <ion-option value="High">High</ion-option>
              <ion-option value="Medium">Medium</ion-option>
              <ion-option value="Low">Low</ion-option>
            </ion-select>
          </ion-item>
          <ion-item class="_row">
            <ion-label class="labelBorder" floating>Type of Requirement<span class="astric">*</span> :</ion-label>
            <ion-select class="fieldBorder" [(ngModel)]="typeOfReq">
              <ion-option value="">Select</ion-option>
              <ion-option value="Contract">Contract</ion-option>
              <ion-option value="Contract to Hire">Contract to Hire</ion-option>
              <ion-option value="Full Time">Full Time</ion-option>
            </ion-select>
          </ion-item>
          <ion-item class="_row">
            <ion-label class="labelBorder" floating>Job Title <span class="astric">*</span> :</ion-label>
            <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.jobTitle"></ion-input>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
    <ion-card>
      <ion-card-header class="headerClass">Add Required Skills <span class="astric">*</span>
        <button class="skillAdd" ion-button color='dark' (click)="addskillValue()">+</button>
        <button class="skillAdd" ion-button color='dark' (click)="deleteskillValue()">-</button>
      </ion-card-header>
      <ion-card-content style=" padding: 6px 0px;">
        <ion-list>
          <div class="tsDetails" *ngFor="let skill of skillArray;let i = index;">
            <ion-item style="flex: 2" class="_row ">
              <ion-label floating>Type</ion-label>
              <ion-select class="fieldBorder" [(ngModel)]="skill.types">
                <ion-option value="primarySkill">Primary</ion-option>
                <ion-option value="secondarySkill">Secondary</ion-option>
              </ion-select>
            </ion-item>
            <ion-item style="flex: 3; font-size:15px;" class="_row">
              <ion-label floating>Skill</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]='skill.skillname'></ion-input>
            </ion-item>
          </div>         


          <div style="display: flex">
              <ion-item style="flex: 1" class="_row">
                <ion-label class="labelBorder" floating>Duration<span class="astric">*</span>
                </ion-label>
                <ion-input class="fieldBorder" type="text" [(ngModel)]='clientdata.duration'></ion-input>
              </ion-item>
              <ion-item style="flex: 1;" class="_row">
                <ion-label floating>Period <span class="astric">*</span>
                </ion-label>
                <ion-select style="height: 41px;" class="fieldBorder" [(ngModel)]="clientdata.durationPeriod">
                  <ion-option value="" disabled=true>Select</ion-option>
                  <ion-option value="Years">Years</ion-option>
                  <ion-option value="Months">Months</ion-option>
                  <ion-option value="weeks">Weeks</ion-option>
                  <ion-option value="Days">Days</ion-option>
                </ion-select>
              </ion-item>
            </div>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Description</ion-label>
              <ion-input class="fieldBorder" [(ngModel)]="clientdata.description" name="description"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>No of Open Positions <span class="astric">*</span>
              </ion-label>
              <ion-input class="fieldBorder" type="number" [(ngModel)]="clientdata.openPositions"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Start Date</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.startDate"></ion-input>
            </ion-item>
            <ion-card-header class="headerClass">Rate <span class="astric">*</span>	
            </ion-card-header>
            <div class="payRateDetails">
              <div style="display: flex">
                <ion-item class="_row ">
                  <ion-label class="labelBorder" floating>Pay Rate <span class="astric">*</span>
                  </ion-label>
                  <ion-input class="fieldBorder" type="number" [(ngModel)]="clientdata.payRate"></ion-input>
                </ion-item>
                <ion-item style="font-size:15px;" class="_row">
                  <ion-label class="labelBorder" floating>Bill Rate</ion-label>
                  <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.billRate"></ion-input>
                </ion-item>
              </div>
              <div style="display: flex">
                <ion-item class="_row">
                  <ion-label class="labelBorder" floating>Currency <span class="astric">*</span>
                  </ion-label>
                  <ion-select class="fieldBorder" [(ngModel)]="clientdata.payRateCurrency">
                    <ion-option value="" disabled=true>Select</ion-option>
                    <ion-option value="Dollar">Dollar</ion-option>
                    <ion-option value="Inr">INR</ion-option>
                  </ion-select>
                </ion-item>
                <ion-item class="_row">
                  <ion-label class="labelBorder" floating>Period <span class="astric">*</span>
                  </ion-label>
                  <ion-select class="fieldBorder" [(ngModel)]="clientdata.payRatePeriod">
                    <ion-option value="" disabled=true>Period</ion-option>
                    <ion-option value="Hour">Per Hour</ion-option>
                    <ion-option value="Day">Per Day</ion-option>
                    <ion-option value="Week">Per Week</ion-option>
                    <ion-option value="Month">Per Month</ion-option>
                    <ion-option value="Year">Per Year</ion-option>
                  </ion-select>
                </ion-item>
              </div>
            </div>          
        </ion-list>
      </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-header class="headerClass">Address (Optional)</ion-card-header>
        <ion-card-content style=" padding: 6px 0px;">
          <ion-list>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Client Location</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.altcontact"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Broadcast Location</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.broadcastLocation"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Address Line 1</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.clientAddress"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Address Line 2</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.clientAddress2"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Zip Code</ion-label>
              <ion-input class="fieldBorder" type="number" [(ngModel)]="clientdata.zipCode"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>City</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.clientCity"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>State</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.clientState"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Country</ion-label>
              <ion-input class="fieldBorder" type="text" [(ngModel)]="clientdata.clientCountry"></ion-input>
            </ion-item>
            <ion-item class="_row">
              <ion-label class="labelBorder" floating>Notes</ion-label>
              <ion-input style="margin-bottom: 10px;" class="fieldBorder" [(ngModel)]="clientdata.area_desc" name="description"></ion-input>
            </ion-item>
          </ion-list>
        </ion-card-content>
      </ion-card>
  </ion-content>
  <ion-footer class="commonFooter">
    <button ion-button full color='danger' (click)='goBack()'>Cancel</button>
    <button ion-button full color='dark' (click)="submit()">Submit</button>
  </ion-footer>